@model Laja.Models.Course

@{
    ViewBag.Title = "Details";
}
<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>
<style>
    .first-div {
        width: 200px;
        
        float: left;
        background-color: white;
    }

    .second-div {
        width: 400px;
        
        float: left;
        background-color: beige;
    }

    .third-div {
        width: 400px;
        
        float: left;
        background-color: ghostwhite;
    }

</style>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<div>
    <h4>Course</h4>
    <hr />
    <p>

        @Html.ActionLink("Back to List", "Index") |
        @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
        @Html.ActionLink("Registrera modul", "Create", "Module", new { CourseId = Model.Id }, null) |
        @Html.ActionLink("Registrera elev", "Create", "User", new { CourseId = Model.Id, @Role = "Elev" }, null) |
        @Html.ActionLink("Registrera Dokument", "Create", "Document", new { CourseId = Model.Id }, null)

    </p>
    <table class="table">
        <tr class="alert-info">
            <th>Namn</th>
            <th>Beskrivning</th>
            <th>Start</th>
            <th>Slut</th>
        </tr>
        <tr>
         <td>
             @Html.DisplayFor(model => model.Name)
         </td>
            <td>
                @Html.DisplayFor(model => model.Description)
            </td>
            <td>
                @Html.DisplayFor(model => model.StartDate)
            </td>
            <td>
                @Html.DisplayFor(model => model.EndDate)
            </td>
        </tr>
        </table>
    
</div>




<div class="container">
    <center><h6></h6></center>
    <div id="content">
        <ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
            <li class="active"><a href="#Modules" data-toggle="tab">Modul <span class="badge">@Model.Modules.Count</span></a></li>
            <li><a href="#Students" data-toggle="tab">Elev <span class="badge">@Model.Students.Count</span></a></li>
            <li><a href="#Documents" data-toggle="tab">Dokument <span class="badge">@Model.Documents.Count</span></a></li>
           
        </ul>
        <div id="my-tab-content" class="tab-content">
            <div class="tab-pane active" id="Modules">
                <h1>Modules</h1>
                <div >
                    <ul>
                        @foreach (var modul in Model.Modules)
                        {
                            <li>
                                @Html.ActionLink(modul.Name, "ModuleWithActivities", "Modules", new { id = @modul.Id }, new { @class = "second" })
                            </li>
                        }
                    </ul>
                </div>
                <div id="ModuleDetails" class="">

                </div>
            </div>
            <div class="tab-pane" id="Students">
                <h1>Students</h1>
                <div class="">
                    @{
                        if (Model.Students.Count > 0)
                        {
                            <table class="table">
                                <tr class="alert-info">
                                    <th>Name</th>
                                    <th>Email</th>

                                </tr>
                                @foreach (var student in Model.Students)
                                {
                                    <tr>
                                        <td>@student.FirstName + " " + @student.LastName</td>
                                        <td>@student.Email</td>
                                    </tr>
                                }
                            </table>
                        }

                    }
                </div>
            </div>
            <div class="tab-pane" id="Documents">
                <h1>Documents</h1>
                @{
                    if (Model.Documents.Count > 0)
                    {
                        <table class="table">
                            <tr class="alert-info">
                                <th>Namn</th>
                                <th>Beskrivning</th>

                            </tr>
                            @foreach (var doc in Model.Documents)
                            {
                                <tr>
                                    <td>@doc.Name</td>
                                    <td>@doc.Description</td>
                                </tr>
                            }
                        </table>
                    }

                }
            </div>
           
        </div>
    </div>
    <script type="text/javascript">
        jQuery(document).ready(function ($) {
            $('#tabs').tab();
        });
        $('button').addClass('btn-primary').text('Switch to Orange Tab');
        $('button').click(function () {
            $('#tabs a[href=#orange]').tab('show');
        });
    </script>
</div> <!-- container -->
<script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

    <script type="text/javascript">
        $(function () {

            $(".second").click(function (e) {

                e.preventDefault();
                $("#ModuleDetails").load($(this).attr("href"))
            });
            $(".third").click(function (e) {

                e.preventDefault();
                $("#ActivityDetails").load($(this).attr("href"))
            });


        });
    </script>
